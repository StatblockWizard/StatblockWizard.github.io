// Copyright 2025 StatblockWizard

function StatblockWizardDemo() {
    return JSON.parse(
        `[{"type":"version","version":"2024.1"},{"type":"group","css":"header"},{"type":"section","caption":"General","showcaption":false,"css":"section general","captioncss":""},{"type":"string","caption":"Name","showcaption":false,"defaultvalue":"","css":"title","captioncss":"","value":"Statblock Wizard"},{"type":"string","caption":"Creature info","showcaption":false,"defaultvalue":"","css":"sizetypetagsalignment","captioncss":"","value":"Medium Construct (software), Lawful Neutral"},{"type":"sectionend","content":"static","values":[]},{"type":"groupend"},{"type":"group","css":"core"},{"type":"section","caption":"","showcaption":false,"css":"section general2","captioncss":""},{"type":"string","caption":"AC","showcaption":true,"defaultvalue":"","css":"feature armorclass","captioncss":"keyword","value":"11"},{"type":"string","caption":"Initiative","showcaption":true,"defaultvalue":"","css":"feature initiative","captioncss":"keyword","value":"+1 (11)"},{"type":"sectionend","content":"static","values":[]},{"type":"section","caption":"","showcaption":false,"css":"section general3","captioncss":""},{"type":"string","caption":"Hit Points","showcaption":true,"defaultvalue":"","css":"feature hitpoints","captioncss":"keyword","value":"11 (2d8 + 2)"},{"type":"string","caption":"Speed","showcaption":true,"defaultvalue":"","css":"feature speed","captioncss":"keyword","value":"30 ft."},{"type":"sectionend","content":"static","values":[]},{"type":"tablesection","caption":"Abilities","showcaption":false,"css":"section abilities","captioncss":"","tablecss":"abilitiesblock"},{"type":"ability2024","caption":"Str","modcaption":"mod","savecaption":"save","defaultvalue":"","css":"ability","captioncss":"abilityname physicalabilities","scorecss":"abilityscore physicalabilities","modifiercss":"abilitymodifier physicalmods","savecss":"abilitysave physicalmods","number":1,"value":{"score":"8","mod":"-1","save":"-1"}},{"type":"ability2024","caption":"Dex","modcaption":"mod","savecaption":"save","defaultvalue":"","css":"ability","captioncss":"abilityname physicalabilities","scorecss":"abilityscore physicalabilities","modifiercss":"abilitymodifier physicalmods","savecss":"abilitysave physicalmods","number":2,"value":{"score":"13","mod":"+1","save":"+3"}},{"type":"ability2024","caption":"Con","modcaption":"mod","savecaption":"save","defaultvalue":"","css":"ability","captioncss":"abilityname physicalabilities","scorecss":"abilityscore physicalabilities","modifiercss":"abilitymodifier physicalmods","savecss":"abilitysave physicalmods","number":3,"value":{"score":"12","mod":"+1","save":"+1"}},{"type":"ability2024","caption":"Int","modcaption":"mod","savecaption":"save","defaultvalue":"","css":"ability","captioncss":"abilityname mentalabilities","scorecss":"abilityscore mentalabilities","modifiercss":"abilitymodifier mentalmods","savecss":"abilitysave mentalmods","number":1,"value":{"score":"15","mod":"+2","save":"+4"}},{"type":"ability2024","caption":"Wis","modcaption":"mod","savecaption":"save","defaultvalue":"","css":"ability","captioncss":"abilityname mentalabilities","scorecss":"abilityscore mentalabilities","modifiercss":"abilitymodifier mentalmods","savecss":"abilitysave mentalmods","number":2,"value":{"score":"10","mod":"+0","save":"+0"}},{"type":"ability2024","caption":"Cha","modcaption":"mod","savecaption":"save","defaultvalue":"","css":"ability","captioncss":"abilityname mentalabilities","scorecss":"abilityscore mentalabilities","modifiercss":"abilitymodifier mentalmods","savecss":"abilitysave mentalmods","number":3,"value":{"score":"14","mod":"+2","save":"+2"}},{"type":"tablesectionend","content":"static"},{"type":"section","caption":"Features","showcaption":false,"css":"section features","captioncss":""},{"type":"skills5e","caption":"Skills","showcaption":true,"defaultvalue":"","css":"feature skills","captioncss":"keyword","skillcss":"skill","value":""},{"type":"string","caption":"Vulnerabilities","showcaption":true,"defaultvalue":"","css":"feature vulnerabilities","captioncss":"keyword","value":""},{"type":"string","caption":"Resistances","showcaption":true,"defaultvalue":"","css":"feature resistances","captioncss":"keyword","value":""},{"type":"string","caption":"Immunities","showcaption":true,"defaultvalue":"","css":"feature immunities","captioncss":"keyword","value":""},{"type":"senses5e","caption":"Senses","showcaption":true,"defaultvalue":"","css":"feature senses","captioncss":"keyword","value":"Passive Perception 10"},{"type":"languages5e","caption":"Languages","showcaption":true,"defaultvalue":"","css":"feature languages","captioncss":"keyword","value":"Common, HTML, CSS, JavaScript"},{"type":"string","caption":"CR","showcaption":true,"defaultvalue":"","css":"feature cr","captioncss":"keyword","value":"0 (XP 10; PB +2)"},{"type":"sectionend","content":"static","values":[]},{"type":"groupend"},{"type":"group","css":"body"},{"type":"section","caption":"Characteristics (like Personality Traits, Ideals, Bonds, Flaws) ","showcaption":false,"css":"section characteristics","captioncss":""},{"type":"sectionend","content":"dynamic","contenttypes":[{"name":"feature","type":"namedstring"},{"name":"plain text","type":"text"},{"name":"list","type":"list"}],"values":[]},{"type":"section","caption":"Traits","showcaption":true,"css":"section traits","captioncss":"sectionheader"},{"type":"sectionend","content":"dynamic","contenttypes":[{"name":"feature","type":"namedstring"},{"name":"plain text","type":"text"},{"name":"list","type":"list"}],"values":[{"type":"namedstring","caption":"StatblockWizard Viewer.","value":"The Viewer is where you see or download the formatted stat block."},{"type":"namedstring","caption":"StatblockWizard Creator.","value":"The Creator is the place where you create or edit the content of your stat block. You enter the text, StatblockWizard handles the layout."}]},{"type":"section","caption":"Actions","showcaption":true,"css":"section actions","captioncss":"sectionheader"},{"type":"sectionend","content":"dynamic","contenttypes":[{"name":"feature","type":"namedstring"},{"name":"attack","type":"attack2024"},{"name":"saving throw","type":"save2024"},{"name":"plain text","type":"text"},{"name":"list","type":"list"}],"values":[{"type":"namedstring","caption":"Viewer Actions.","value":"In the Viewer, these actions are available:"},{"type":"list","listtype":"dl","values":[{"dt":"Creator.","dd":"Open the Creator."},{"dt":"Columns","dd":"Toggle between 1 and 2 column view. The selected option affects the HTML and PNG file export."},{"dt":"Transparent.","dd":"Toggle between normal and transparent backgrounds. The selected option affects the HTML and PNG file export."},{"dt":"Upload JSON.","dd":"Load a StatblockWizard json file."},{"dt":"JSON.","dd":"Download as a StatblockWizard json file. This contains everything required to later view or edit the stat block again. The name of the stat block will be used for the name of the file."},{"dt":"HTML.","dd":"Download as a StatblockWizard partial html file, containing a DIV element that you can use in your own html files. The file needs a style sheet!"},{"dt":"CSS.","dd":"Get the style sheet that is used by StatblockWizard. You are free to use, edit, or redistribute this CSS file. The referenced fonts are available on the internet under the SIL Open Font License."},{"dt":"PNG.","dd":"Download the StatblockWizard PNG image file. Some browsers need the zoom level to be 100% to calculate the image size correctly."}]},{"type":"namedstring","caption":"Creator Actions.","value":"In the Creator, these actions are available:"},{"type":"list","listtype":"dl","values":[{"dt":"New Stat Block.","dd":"Start a completely new stat block."},{"dt":"Upload JSON.","dd":"Load a StatblockWizard json file."},{"dt":"Viewer.","dd":"Open the Viewer."}]}]},{"type":"section","caption":"Bonus Actions","showcaption":true,"css":"section bonusactions","captioncss":"sectionheader"},{"type":"sectionend","content":"dynamic","contenttypes":[{"name":"feature","type":"namedstring"},{"name":"attack","type":"attack2024"},{"name":"saving throw","type":"save2024"},{"name":"plain text","type":"text"},{"name":"list","type":"list"}],"values":[{"type":"namedstring","caption":"Home Logo.","value":"Select the logo in the top of the screen to get back to the app's startup page."}]},{"type":"section","caption":"Reactions","showcaption":true,"css":"section reactions","captioncss":"sectionheader"},{"type":"sectionend","content":"dynamic","contenttypes":[{"name":"reaction","type":"reaction2024"},{"name":"feature","type":"namedstring"},{"name":"attack","type":"attack2024"},{"name":"saving throw","type":"save2024"},{"name":"plain text","type":"text"},{"name":"list","type":"list"}],"values":[{"type":"text","value":"StatblockWizard's reactions only work if supported by your device and browser."},{"type":"reaction2024","caption":"Hover.","trigger":"You hover your mouse pointer over a button.","response":"Extra information about this button's function is shown in a tooltip."},{"type":"namedstring","caption":"Shortcut Keys.","value":"You can use a keyboard to select many functions. The Hover feature shows the appropriate keys. Usually you need to press a key combination, like Alt+key or Control+Option+key."},{"type":"reaction2024","caption":"Drag & Drop.","trigger":"You drop a StatblockWizard json file on the current stat block in the viewer page.","response":"The file is loaded and the stat block is shown."}]},{"type":"section","caption":"Legendary Actions","showcaption":true,"css":"section legendaryactions","captioncss":"sectionheader"},{"type":"sectionend","content":"dynamic","contenttypes":[{"name":"legendary text","type":"legendarytext"},{"name":"feature","type":"namedstring"},{"name":"attack","type":"attack2024"},{"name":"saving throw","type":"save2024"},{"name":"plain text","type":"text"},{"name":"list","type":"list"}],"values":[{"type":"legendarytext","value":"The Home Page allows four main actions."},{"type":"namedstring","caption":"View a stat block.","value":"Open the Viewer to see the current stat block."},{"type":"namedstring","caption":"Create or edit a stat block.","value":"Open the Creator to work on the stat block."},{"type":"namedstring","caption":"Legal information.","value":"Shows information about usage and licenses."},{"type":"namedstring","caption":"Clear saved stat block.","value":"Remove all data that was stored by this app from your browser's storage. This will enable the Demo stat block in the Viewer."}]},{"type":"section","caption":"Epic Actions","showcaption":true,"css":"section epicactions","captioncss":"sectionheader"},{"type":"sectionend","content":"dynamic","contenttypes":[{"name":"feature","type":"namedstring"},{"name":"attack","type":"attack2024"},{"name":"saving throw","type":"save2024"},{"name":"plain text","type":"text"},{"name":"list","type":"list"}],"values":[{"type":"namedstring","caption":"Image.","value":"StatblockWizard supports one image in the stat block, which is embedded in the JSON and HTML files. It is also shown in the PNG files."},{"type":"text","value":"<strong>Note:</strong> Usually, stat blocks in this style don't include an image."},{"type":"namedstring","caption":"Print.","value":"Use your browser's Print action from the Viewer to print the stat block using a printer-friendly styling with less color. The image is not printed. If you want to print a full-color version or to include the image, use the PNG file."}]},{"type":"groupend"},{"type":"section","caption":"Supplemental","showcaption":false,"css":"section supplemental","captioncss":""},{"type":"image","caption":"Image","showcaption":false,"css":"image","maxheight":0,"position":"last","alignment":"center","beforeclass":"core","value":"","credits":""},{"type":"sectionend","content":"static","values":[]},{"type":"css","fortype":"namedstring","css":"line namedstring","captioncss":"keyword"},{"type":"css","fortype":"text","css":"line text"},{"type":"css","fortype":"legendarytext","css":"line legendarytext"},{"type":"css","fortype":"attack2024","css":"line attack","captioncss":"keyword","attackcss":"attacktype","hitcss":"hit"},{"type":"css","fortype":"save2024","css":"line savingthrow","captioncss":"keyword","savetypecss":"savingthrowtype","saveresultcss":"savingthrowresult"},{"type":"css","fortype":"reaction2024","css":"line reaction","captioncss":"keyword","triggercss":"trigger","responsecss":"response"},{"type":"css","fortype":"list","forsubtype":"ul","listcss":"line list-ul","css":"listitem","captioncss":"keyword"},{"type":"css","fortype":"list","forsubtype":"ol","listcss":"line list-ol","css":"listitem","captioncss":"keyword"},{"type":"css","fortype":"list","forsubtype":"dl","listcss":"line list-dl","css":"listitem","captioncss":"keyword"},{"type":"css","fortype":"list","forsubtype":"spells5e","listcss":"line list-spells5e","captioncss":"spellliststart","css":"spelllist","spellcss":"spell"}]`
    );
}

// #region 2024
function attacktype2024() {
    return [
        { "value": 0, "text": "Melee Attack Roll:" },
        { "value": 1, "text": "Ranged Attack Roll:" },
        { "value": 2, "text": "Melee or Ranged Attack Roll:" }
    ]
}

function attacktype2024value(fromtext) {
    let aa = attacktype2024().filter((t) => { return (t.text == fromtext) });
    return aa[0].value;
}

function savetype2024() {
    return [
        { "value": 0, "text": "Strength Saving Throw:" },
        { "value": 1, "text": "Dexterity Saving Throw:" },
        { "value": 2, "text": "Constitution Saving Throw:" },
        { "value": 3, "text": "Intelligence Saving Throw:" },
        { "value": 4, "text": "Wisdom Saving Throw:" },
        { "value": 5, "text": "Charisma Saving Throw:" }
    ]
}

function savetype2024value(fromtext) {
    let aa = savetype2024().filter((t) => { return (t.text == fromtext) });
    return aa[0].value;
}


function abilitymodifier(score) {
    let x = Math.trunc(score / 2) - 5;
    return ((x < 0) ? x.toString() : `+${x.toString()}`);
}
// #endregion 2024

// #region Versionspecific Tools
function AddHtmlTo(existing, addition, position = 'last') {
    if (addition) {
        if (addition.nodeName == '#text') {
            existing.appendChild(addition);
        } else
            if (addition.outerHTML != '') {
                if (position == 'first') {
                    let c = existing.getElementsByClassName(fullClassname('core'));
                    if (c.length > 0) {
                        c[0].insertAdjacentHTML('beforebegin', addition.outerHTML);
                        return;
                    }
                };
                existing.appendChild(addition);
            }
    }
}
// #endregion Versionspecific Tools
